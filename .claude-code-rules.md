# Claude Code Rules - Quick Reference

## 🚫 ABSOLUTE RESTRICTIONS

### planning-docs/ Directory
- **NEVER** use Edit, Write, or MultiEdit on files in planning-docs/
- **ONLY** use Read tool for planning-docs/ files
- **ALWAYS** use project-manager agent for updates

### Testing Commands
- **NEVER** run test-harness.sh, kato-manager.sh test, or pytest directly
- **ALWAYS** use test-analyst agent for ALL testing

### Correct Patterns:
```
❌ WRONG: Edit planning-docs/SESSION_STATE.md directly
✅ RIGHT: Task tool with subagent_type="project-manager"

❌ WRONG: Bash("./test-harness.sh test")
✅ RIGHT: Task tool with subagent_type="test-analyst"
```

## 📋 Planning Documentation Workflow

1. **Need to update status?** → Call project-manager
2. **Task completed?** → Call project-manager  
3. **Found a blocker?** → Call project-manager
4. **Making architectural decision?** → Call project-manager
5. **Session ending?** → Call project-manager

## 🧪 Testing Workflow

1. **After code changes?** → Call test-analyst
2. **After bug fixes?** → Call test-analyst
3. **Need to check test status?** → Call test-analyst
4. **Performance testing?** → Call test-analyst
5. **User asks about tests?** → Call test-analyst

## 🎯 Remember
The project-manager agent exists specifically to handle all planning documentation updates. It maintains consistency, tracks patterns, and prevents conflicts. Direct edits break this system.

---
*This file serves as a quick reminder to prevent protocol violations.*