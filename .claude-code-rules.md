# Claude Code Rules - Quick Reference

## 🚫 ABSOLUTE RESTRICTIONS

### planning-docs/ Directory
- **NEVER** use Edit, Write, or MultiEdit on files in planning-docs/
- **ONLY** use Read tool for planning-docs/ files
- **ALWAYS** use planning-maintainer agent for updates

### Testing Commands
- **NEVER** run test-harness.sh, kato-manager.sh test, or pytest directly
- **ALWAYS** use test-executor-analyzer agent for ALL testing

### Correct Patterns:
```
❌ WRONG: Edit planning-docs/SESSION_STATE.md directly
✅ RIGHT: Task tool with subagent_type="planning-maintainer"

❌ WRONG: Bash("./test-harness.sh test")
✅ RIGHT: Task tool with subagent_type="test-executor-analyzer"
```

## 📋 Planning Documentation Workflow

1. **Need to update status?** → Call planning-maintainer
2. **Task completed?** → Call planning-maintainer  
3. **Found a blocker?** → Call planning-maintainer
4. **Making architectural decision?** → Call planning-maintainer
5. **Session ending?** → Call planning-maintainer

## 🧪 Testing Workflow

1. **After code changes?** → Call test-executor-analyzer
2. **After bug fixes?** → Call test-executor-analyzer
3. **Need to check test status?** → Call test-executor-analyzer
4. **Performance testing?** → Call test-executor-analyzer
5. **User asks about tests?** → Call test-executor-analyzer

## 🎯 Remember
The planning-maintainer agent exists specifically to handle all planning documentation updates. It maintains consistency, tracks patterns, and prevents conflicts. Direct edits break this system.

---
*This file serves as a quick reminder to prevent protocol violations.*