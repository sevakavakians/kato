<?xml version="1.0"?>
<clickhouse>
    <!-- Configure system logs with TTL for automatic cleanup to prevent bloat -->

    <!-- Query log: keep for 7 days -->
    <query_log>
        <database>system</database>
        <table>query_log</table>
        <partition_by>toYYYYMM(event_date)</partition_by>
        <ttl>event_date + INTERVAL 7 DAY DELETE</ttl>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
    </query_log>

    <!-- Trace log: DISABLED (most expensive, 2.81 GiB during training) -->
    <trace_log remove="1"/>

    <!-- Text log: DISABLED (379 MiB of debug/trace messages during training) -->
    <text_log remove="1"/>

    <!-- Metric log: keep for 7 days -->
    <metric_log>
        <database>system</database>
        <table>metric_log</table>
        <partition_by>toYYYYMM(event_date)</partition_by>
        <ttl>event_date + INTERVAL 7 DAY DELETE</ttl>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
    </metric_log>

    <!-- Asynchronous metric log: DISABLED (3.14M rows/hour, excessive for KATO) -->
    <asynchronous_metric_log remove="1"/>

    <!-- Part log: keep for 3 days -->
    <part_log>
        <database>system</database>
        <table>part_log</table>
        <partition_by>toYYYYMM(event_date)</partition_by>
        <ttl>event_date + INTERVAL 3 DAY DELETE</ttl>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
    </part_log>

    <!-- Processors profile log: DISABLED (348 MiB during training) -->
    <processors_profile_log remove="1"/>
</clickhouse>
